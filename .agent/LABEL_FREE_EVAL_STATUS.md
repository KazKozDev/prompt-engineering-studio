# Label-Free Evaluation - –°—Ç–∞—Ç—É—Å –ü—Ä–æ–≤–µ—Ä–∫–∏

## ‚úÖ –í—Å–µ —Ä–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∏ –¥–∞—é—Ç –∑–∞–∫–ª—é—á–µ–Ω–∏—è

### 1. Self-Consistency (–°–∞–º–æ-–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å)

**Backend API:** `/api/evaluator/consistency`
- ‚úÖ Endpoint —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `ConsistencyScorer.run_consistency_check()`
- ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç N –æ–±—Ä–∞–∑—Ü–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5)
- ‚úÖ –í—ã—á–∏—Å–ª—è–µ—Ç consistency_score (0.0-1.0)

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –ø–æ–ª—è:**
```json
{
  "consistency_score": 0.85,
  "samples": [
    {"response": "Sample 1"},
    {"response": "Sample 2"},
    ...
  ],
  "n_samples": 5
}
```

**Frontend –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**
- ‚úÖ Consistency Score (–º–µ—Ç—Ä–∏–∫–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏)
- ‚úÖ Samples Generated (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–∑—Ü–æ–≤)
- ‚úÖ –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö Sample Responses —Å –Ω—É–º–µ—Ä–∞—Ü–∏–µ–π
- ‚úÖ Raw JSON –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

**–ó–∞–∫–ª—é—á–µ–Ω–∏–µ:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞—Å–∫–æ–ª—å–∫–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ –º–æ–¥–µ–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –ø—Ä–æ–º–ø—Ç.

---

### 2. Mutual-Consistency / GLaPE (–í–∑–∞–∏–º–Ω–∞—è –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å)

**Backend API:** `/api/evaluator/mutual-consistency`
- ‚úÖ Endpoint —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `ConsistencyScorer.run_mutual_consistency_check()`
- ‚úÖ –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç—ã –æ—Ç —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤
- ‚úÖ –í—ã—á–∏—Å–ª—è–µ—Ç –º–∞—Ç—Ä–∏—Ü—É –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –ø–æ–ª—è:**
```json
{
  "glape_score": 0.75,
  "avg_consistency": 0.75,
  "consistency_matrix": [
    [1.0, 0.8, 0.7],
    [0.8, 1.0, 0.6],
    [0.7, 0.6, 1.0]
  ],
  "responses": ["Response 1", "Response 2", "Response 3"]
}
```

**Frontend –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**
- ‚úÖ Average Consistency (—Å—Ä–µ–¥–Ω—è—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å)
- ‚úÖ Prompt Pairs (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–º–ø—Ç–æ–≤)
- ‚úÖ GLaPE Score (–∏—Ç–æ–≥–æ–≤–∞—è –º–µ—Ç—Ä–∏–∫–∞)
- ‚úÖ Consistency Matrix (–º–∞—Ç—Ä–∏—Ü–∞ –ø–æ–ø–∞—Ä–Ω—ã—Ö —Å—Ä–∞–≤–Ω–µ–Ω–∏–π)
- ‚úÖ Raw JSON –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

**–ó–∞–∫–ª—é—á–µ–Ω–∏–µ:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –ø—Ä–æ–º–ø—Ç–∞ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –æ—Ç–≤–µ—Ç–∞–º.

---

### 3. LLM-as-a-Judge (LLM –∫–∞–∫ –°—É–¥—å—è)

**Backend API:** `/api/metrics/judge`
- ‚úÖ Endpoint —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `LLMJudge.evaluate()`
- ‚úÖ –û—Ü–µ–Ω–∏–≤–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–∞ –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º
- ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç score, reasoning, confidence

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –ø–æ–ª—è:**
```json
{
  "score": 0.7,
  "raw_score": 7,
  "reasoning": "Good answer but could be more specific.",
  "criteria": "Evaluate for accuracy, relevance, and helpfulness.",
  "confidence": 0.7
}
```

**Frontend –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**
- ‚úÖ Judge Score (–æ—Ü–µ–Ω–∫–∞ 0-1)
- ‚úÖ Confidence (—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å —Å—É–¥—å–∏)
- ‚úÖ Judge Reasoning (–æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –æ—Ü–µ–Ω–∫–∏)
- ‚úÖ Raw JSON –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏:**
- `general` - –æ–±—â–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- `helpfulness` - –ø–æ–ª–µ–∑–Ω–æ—Å—Ç—å
- `accuracy` - —Ç–æ—á–Ω–æ—Å—Ç—å
- `safety` - –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- `creativity` - –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å
- `conciseness` - –∫—Ä–∞—Ç–∫–æ—Å—Ç—å
- `technical` - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å

**–ó–∞–∫–ª—é—á–µ–Ω–∏–µ:** –î–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—É—é –æ—Ü–µ–Ω–∫—É –æ—Ç–≤–µ—Ç–∞ –±–µ–∑ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–æ–≤, —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º.

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è –ü—Ä–æ–≤–µ—Ä–∫–∞

### Backend (Python)
- ‚úÖ `src/evaluator/consistency.py` - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –æ–±–∞ –º–µ—Ç–æ–¥–∞
- ‚úÖ `src/evaluator/metrics.py` - LLMJudge —Å confidence
- ‚úÖ `src/api_server.py` - –≤—Å–µ 3 endpoint'–∞ —Ä–∞–±–æ—Ç–∞—é—Ç

### Frontend (React/TypeScript)
- ‚úÖ `LabelFreeEval.tsx` - –≤—Å–µ 3 —Ä–µ–∂–∏–º–∞ —Å UI
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `PromptSelector`
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å–º–µ–Ω–∞ —Ä–µ–∂–∏–º–æ–≤

### API –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ `api.runConsistencyCheck()` ‚Üí `/api/evaluator/consistency`
- ‚úÖ `api.runMutualConsistency()` ‚Üí `/api/evaluator/mutual-consistency`
- ‚úÖ `api.runLLMJudge()` ‚Üí `/api/metrics/judge`

---

## üìä –¢–∏–ø–∏—á–Ω—ã–µ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### Self-Consistency
```
Consistency Score: 0.85 (–≤—ã—Å–æ–∫–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å)
Samples: 5
‚Üí –ü—Ä–æ–º–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
```

### Mutual-Consistency (GLaPE)
```
GLaPE Score: 0.72
Average Consistency: 0.72
Prompt Pairs: 3
‚Üí –ü—Ä–æ–º–ø—Ç—ã —Ö–æ—Ä–æ—à–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã
```

### LLM-as-a-Judge
```
Judge Score: 0.7 (7/10)
Confidence: 0.7
Reasoning: "Good answer but could be more specific."
‚Üí –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏
```

---

## ‚úÖ –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!

–í—Å–µ —Ç—Ä–∏ —Ä–µ–∂–∏–º–∞ Label-Free Evaluation –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã:
1. ‚úÖ Backend API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
2. ‚úÖ Frontend –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
3. ‚úÖ –î–∞—é—Ç—Å—è –ø–æ–Ω—è—Ç–Ω—ã–µ –∑–∞–∫–ª—é—á–µ–Ω–∏—è –∏ –º–µ—Ç—Ä–∏–∫–∏
4. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å PromptSelector —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ
